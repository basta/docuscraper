version: '3.8'

services:
  docuscraper-app:
    build: .
    container_name: docuscraper
    restart: unless-stopped
    volumes:
      - ./history:/app/history
    labels:
      # --- Traefik Configuration ---
      - "traefik.enable=true"
      - "traefik.http.routers.docuscraper.rule=Host(`scraper.basta.one`)" # ðŸ‘ˆ Change to your desired domain
      - "traefik.http.routers.docuscraper.entrypoints=websecure"
      - "traefik.http.routers.docuscraper.tls.certresolver=teeresolver" # ðŸ‘ˆ Your cert resolver
      - "traefik.http.routers.docuscraper.tls=true"
      - "traefik.http.services.docuscraper.loadbalancer.server.port=8000" # ðŸ‘ˆ Match the container port
